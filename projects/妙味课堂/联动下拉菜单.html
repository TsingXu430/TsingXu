<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>联动下拉菜单</title>
</head>
<body>
<div id="box"></div>
</body>
<script>
window.onload = function(){

	var s1 = new Sel('box');
	s1.add('0',['1','2','3']);

	s1.add('0_0',['1.1','1.2','1.3']);
	s1.add('0_0_0',['1.1.1','1.1.2','1.1.3']);
	s1.add('0_0_1',['1.2.1','1.2.2','1.2.3']);
	s1.add('0_0_2',['1.3.1','1.3.2','1.3.3']);

	s1.add('0_1',['2.1','2.2','2.3']);
	s1.add('0_1_0',['2.1.1','2.1.2','2.1.3']);
	s1.add('0_1_1',['2.2.1','2.2.2','2.2.3']);
	s1.add('0_1_2',['2.3.1','2.3.2','2.3.3']);

	s1.add('0_2',['3.1','3.2','3.3']);
	s1.add('0_2_0',['3.1.1','3.1.2','3.1.3']);
	s1.add('0_2_1',['3.2.1','3.2.2','3.2.3']);
	s1.add('0_2_2',['3.3.1','3.3.2','3.3.3']);

	s1.init(3);

};
function Sel(id){
	this.oParent = document.getElementById(id);
	this.data = {};
	this.aSel = this.oParent.getElementsByTagName("select");
}

Sel.prototype = {

	init: function(num){

		var This = this;
		for(var i=1;i<=num;i++){

			var oSel = document.createElement("select");
			var oPt = document.createElement("option");
			oPt.innerHTML = "默认";
			oSel.index = i;
			oSel.appendChild(oPt);
			this.oParent.appendChild(oSel);
			oSel.onchange = function(){
				This.change(this.index);
			};
		}

		this.first();

	},
	add: function(key,value){

		this.data[key] = value;

	},
	first: function(){

		var arr = this.data['0'];

		for(var i=0;i<arr.length;i++){

			var oPt = document.createElement("option");
			oPt.innerHTML = arr[i];
			this.aSel[0].appendChild(oPt);
		}

	},
	change: function(inow){

		var str = '0';

		for(var i=0; i<inow; i++){

			str += "_" + ( this.aSel[i].selectedIndex -1 );
		}

		if(this.data[str]){

			var arr = this.data[str];

			this.aSel[inow].options.length = 1;

			for(var i=0;i<arr.length;i++){

				var oPt = document.createElement("option");
				oPt.innerHTML = arr[i];
				this.aSel[inow].appendChild(oPt);

			}
			this.aSel[inow].options[1].selected = true;

			inow++;
			if(inow < this.aSel.length){
				this.change(inow);
			}

		}else{

			if(inow < this.aSel.length){

				this.aSel[inow].options.length = 1;

			}

		}
	}

}
</script>
</html>