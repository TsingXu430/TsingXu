---
layout: post
title: "js类的创建"
date:   2016-11-089 18:25:27
categories: js
---

今天面试，被问到“你怎么看js的类？”当时懵了，跟对象搞混了。开学以来没怎么写过代码，书也没怎么看，都给忘的一干二净了。有时候就需要一个巴掌拍醒。

>js是基于对象的语言，但又不是真正的面向对象（OOP）语言，没有对class类的支持

看了阮一峰写的 --->  [原文地址](http://www.ruanyifeng.com/blog/2012/07/three_ways_to_define_a_javascript_class.html)

>1、构造函数法

```
function Cat(){
  this.name ="hello";
}

var cata = new Cat();
```

类的属性和方法也可以定义在构造函数的prototype对象上。例如：

```
Cat.prototype.changeName = function(){
  alert("world");
}
```

缺点：用到this和prototype，比较复杂。编写和阅读都很费力。

问题：像js原本有的Array对象、Date对象、String对象等是否就是这种定义方法？

继续阅读 [普通构造函数和prototype模式的构造函数区别](http://www.jianshu.com/p/5541f8ec4624)

>2、Object.create方法

这个方法是javascript国际标准ECMAScipt第五版提出的一个新方法。

```
var Cat = {
  name = "lucy";
  changeName = funciton(){ alert("jack"); }
};

var cat1  =Object.create(Cat);

```

兼容低版本浏览器：


```
if(!Object.create){
  Object.create = function(o){
    function F() { }；
    F.prototype = o;
    return new F();
  }
}
```


缺点：不能实现私有属性和方法，实例之间也不能共享数据。

问题：对于他说的缺点，不是很明白？

>3、极简主义法

这个方法是一个荷兰程序员 Gabor de Mooij  提出的。

用对象模拟类：


```
var Cat = {
  createNew = function (){
    var cat = {};
    cat.name = "lucy";
    cat.changeName = function(){
      alert("jack");
    }
};

var cat1 = Cat.createNew();

```


此方法有以下跟面向对象一样的特性：


#####继承


```
var A = {
  createNew = function(){
    var a = {};
    a.get = function(){alert("a");};
    return a;
  }
}

var B = {
  createNew = function(){
    var b = A.createNew();
    B.put = function(){alert("b");}
    return b;
  }
}

var b1 = B.createNew();
b1.get();   //a

```

#####私有属性和方法

```
var A = {
  createNew = function(){
    var a = {};
    var name = "lucy";   //私有属性
    a.getName = function(){ alert(name); };
    return a;
  }
}


var cat1 = Cat.createNew();
cat1.name;   // undefined
```

#####数据共享

写在类对象里面，createNew方法外面。


```
var A = {

  name : "lucy";      //共享的数据

  createNew = function(){
    var a = {};
    a.getName = function(){ alert( Cat.name ); };
    a.changeName = function(n){  alert( Cat.name = n;  };
    return a;

  }
}


var cat1  = Cat.createNew();
var cat2  = Cat.createNew();
cat1.getName();   //lucy;

cat2.changeName(jack);
cat1.getName();   //jack;


```

>不积跬步无以至千里