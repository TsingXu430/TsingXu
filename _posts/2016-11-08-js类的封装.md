---
layout: post
title: "js类的封装"
date:   2016-11-089 18:25:27
categories: js
---


【原文地址】(http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html)

>普通的构造函数

```
function Cat(name,color){
  this.name = name;
  this.color = color;
  this.eat = function(){ alert("老鼠"); };
}


var cat1 = new Cat();
var cat2 = new Cat();
cat1.eat();
cat2.eat();

```

缺点：每创建一个实例，都是重复的内容，占用内存，效率低。

至于怎么判断cat1的eat方法和cat2的eat方法是不一样的，请看下面：

```
car1.eat == car2.eat    //false
```

>prototype模式


```
function Cat(name,color){
  this.name = name;
  this.color = color;
}
Car.prototype.eat = function(){ alert("老师"); };

var cat1 = new Cat();
var cat2 = new Cat();
cat1.eat();
cat2.eat();

```
优点：每个实例用的eat方法都是引用同一个内存地址，指向prototype对象。

判断：

```
car1.eat == car2.eat    //true
```

以上的内容也是讲js对象的封装知识。把属性和方法如何封装在创建的对象里。

>不积跬步无以至千里