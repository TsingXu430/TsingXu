<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>3D旋转轮播</title>
<style id="css">
.box{ width: 800px; margin: 30px auto; }

#picList{ margin:0; padding: 0; height: 360px; -webkit-perspective:800px; }

#picList li{ width: 25px; height: 360px; position: relative; list-style: none; float: left;				 -webkit-transform-style: preserve-3d;
			 -webkit-transform: translateZ(-180px) rotateX(0deg);
			 }

#picList a{ position: absolute; left: 0; top: 0; width: 100%; height: 100%; }

#picList a:nth-of-type(1){ background: url(img/1.jpg) no-repeat;-webkit-transform: translateZ(180px); }

#picList a:nth-of-type(2){ background: url(img/2.jpg) no-repeat; -webkit-transform-origin:top; -webkit-transform: translateZ(-180px) rotateX(90deg);  }

#picList a:nth-of-type(3){ background: url(img/3.jpg) no-repeat;  -webkit-transform: translateZ(-180px); }

#picList a:nth-of-type(4){ background: url(img/4.jpg) no-repeat; -webkit-transform-origin:bottom; -webkit-transform: translateZ(-180px) rotateX(-90deg); }

#picList span{ width: 360px; height: 360px; background-color: #333; position: absolute; top: 0; }

#picList span:nth-of-type(1){ left: 0; -webkit-transform-origin: left; -webkit-transform:translateZ(180px) rotateY(90deg); }

#picList span:nth-of-type(2){ right: 0; -webkit-transform-origin: right; -webkit-transform:translateZ(180px) rotateY(-90deg);  }

#btns{ padding: 50px; height: 30px; }

#btns li{ height: 30px; width: 30px; background-color: #000; color: #fff; font-size:16px; font-weight: bold; line-height: 30px; text-align:center; margin: 0 10px; border-radius: 50%; float: left; list-style: none; cursor: pointer;}

#btns .active{ background-color: #f60; }
</style>
</head>
<body>
<div class="box">
	<ul id="picList">
		<li>
		</li>
	</ul>
	<ol id="btns">
		<li class="active">1</li>
		<li>2</li>
		<li>3</li>
		<li>4</li>
	</ol>
</div>
</body>
<script>
window.onload = function(){

	var oPicList = document.getElementById("picList");
	var iLiW = 25;
	var sHtml = "";
	var iLength = oPicList.clientWidth/iLiW;
	var oCss = document.getElementById("css");
	var oStyle = "";
	var index = 0;
	var oPic = [];
	var inow = 0;
	var aBtns = document.getElementById("btns").getElementsByTagName("li");


	for(var i=0; i<iLength; i++){

		i>iLength/2?index--:index++;

		oStyle += "#picList li:nth-of-type(" +(i+1)+ "){ z-index: " +index+ "}";
		oStyle += "#picList li:nth-of-type(" +(i+1)+ ") a{ background-position: -" +i*iLiW + "px 0px; }";

		sHtml += '<li><a href="#"></a><a href="#"></a><a href="#"></a><a href="#"></a><span></span><span></span></li>';
	}
	oPicList.innerHTML=sHtml;
	oCss.innerHTML += oStyle;
	oPic = oPicList.getElementsByTagName("li");

	for(var j=0; j<aBtns.length; j++){

		aBtns[j].onclick=(function(a){

			return function(){

				aBtns[inow].className = "";
				this.className = "active";

				for(var i=0;i<oPic.length;i++){

					with(oPic[i].style){

						transition=0.5*Math.abs(a-inow)+"s "+i*50+"ms all ease-in-out";
						webkitTransform = "translateZ(-180px) rotateX(-"+ a*90 +"deg)";
					}
				}
				inow = a;
			}

		})(j);
	}

};
</script>
</html>